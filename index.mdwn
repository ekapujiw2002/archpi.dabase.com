<!-- Archlinux on Raspberry PI -->

# Archlinux ARM on Raspberry PI (rpi)

<div id="tocwrapper"><!-- toc --></div>

## What's this site?

Have you had an Archlinux ARM question, typed it into Google and didn't find an answer?

Perhaps you found the answer later. Either way, do let me know at hendry AT
iki.fi and I'll add it to the [site
source](https://github.com/kaihendry/archpi.dabase.com).

## Why Archlinux ARM ?

* Cleaner
* Systemd init by default
* Easier to package and maintain

## Is there an official wiki?

Not specifically for Arm on Archlinux, though
<https://wiki.archlinux.org/index.php/Raspberry_Pi> is a good start since much
of the excellent Archlinux wiki applies to the <abbr title="Raspberry PI">rpi</abbr>.

## Installing Archlinux ARM

After installing the latest [Archlinux ARM](http://archlinuxarm.org/) from [PI downloads](http://www.raspberrypi.org/downloads) you will find you only have a 2GB root. Expand it following this [guide](http://archlinuxarm.org/forum/viewtopic.php?f=31&t=3119).

## To login

User name `root` and password `root`.

## To update

    pacman -Syu

## To search for a package

    pacman -Ss $packagename

Refer to [pacman reference](https://wiki.archlinux.org/index.php/Pacman) for more examples.

## How to ask for help

Setup your terminal to upload your console to share the output.

`curl http://archpi.dabase.com/tmux.conf > ~/.tmux.conf`

Run `tmux`. If it's not installed, installed it `pacman -S tmux`.

Now using tmux's default prefix of `ctrl+b` and the letter `p`, will upload your console to be shared.

To learn more about what tmux can do, have a look at it's default key binds with `tmux lsk`.

## How to work out what your PI is doing

Run `top`.

## How to connect to your PI behind a Firewall?

See <http://pi.dabase.com/> for such a service.

## Is there an Archlinux ARM IRC channel ?

Yes, `irc://irc.freenode.net/#archlinux-arm`

## [PI Camera](http://www.raspberrypi.org/camera): Where is raspi{still,vid}?

[Rpi userland](https://github.com/raspberrypi/userland) is packaged as raspberrypi-firmware-tools.

	# pacman -Ql raspberrypi-firmware-tools | grep bin/raspi
	raspberrypi-firmware-tools /opt/vc/bin/raspistill
	raspberrypi-firmware-tools /opt/vc/bin/raspivid
	raspberrypi-firmware-tools /opt/vc/bin/raspiyuv

If you get:

	# /opt/vc/bin/raspistill -o image.jpg
	mmal: mmal_vc_component_create: failed to create component 'vc.ril.camera' (1:ENOMEM)
	mmal: mmal_component_create_core: could not create component 'vc.ril.camera' (1)
	mmal: Failed to create camera component
	mmal: main: Failed to create camera component
	mmal: Camera is not enabled in this build. Try running "sudo raspi-config" and ensure that "camera" has been enabled

You need to append to `/boot/config.txt`:

	start_file=start_x.elf
	fixup_file=fixup_x.dat
